#!/usr/bin/env python3

# Copyright (C) 2015-2017  The Software Heritage developers
# See the AUTHORS file at the top-level directory of this distribution
# License: GNU General Public License version 3, or any later version
# See top-level LICENSE file for more information


import click
import os

from swh.loader.tar import file


@click.command()
@click.option('--mirror-root-dir', required=1, help='path to the root dir.')
def main(mirror_root_dir):
    """Parse the configuration from the cli.

    """
    for tarpath, _ in file.archives_from(mirror_root_dir):
        print(tarpath, os.path.getsize(tarpath))


if __name__ == '__main__':
    main()
